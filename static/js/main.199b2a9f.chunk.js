(this.webpackJsonptinderesse=this.webpackJsonptinderesse||[]).push([[0],{110:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(76),a(14)),l=(a(77),a(155)),s=a(157),u=a(156),m=a(158),f=a(159),d=a(63),g=a.n(d),p=a(64),b=a.n(p),v=a(65),h=a.n(v),E=a(150),x=(a(50),function(e){return r.a.createElement("div",{style:{display:"flex",borderTop:"1px solid black",marginTop:16}},r.a.createElement("div",{style:{textAlign:"inital",display:"flex",justifyContent:"space-around",padding:16}},r.a.createElement("img",{src:e.image,alt:"Foto do perfil",style:{height:90,width:90,borderRadius:8}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:32}},e.children)))}),w=a(146),y=function(e){return r.a.createElement("div",{style:{display:"flex",margin:4}},r.a.createElement(w.a,null,e.icon),r.a.createElement(E.a,{style:{marginLeft:8}},e.text))},S=function(e){var t=JSON.parse(localStorage.getItem("matchList"))||{},a=Object.keys(t);return r.a.createElement("div",null,r.a.createElement(E.a,null,"Sua lista de Matches"),a.map((function(e){return r.a.createElement(x,{image:t[e].image},r.a.createElement(y,{icon:"assignment_ind",text:t[e].name}),r.a.createElement(y,{icon:"chat",text:t[e].whatsapp}))})))},j=a(12),O=a.n(j),k=a(151),N=a(152),C=a(153),P=function(e){var t=e.children,a=e.image,o=e.handleReject,i=e.handleLike;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{margin:8,borderRadius:16,display:"flex",flex:1,backgroundImage:"url(".concat(a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",flexDirection:"column",justifyContent:"flex-end"}},t),r.a.createElement("div",{style:{zIndex:1,marginTop:-42,widht:"90%",display:"flex",justifyContent:"space-between",marginLeft:"5%",marginRight:"5%"}},r.a.createElement(k.a,{onClick:o,color:"secondary","aria-label":"Cancelar"},r.a.createElement(N.a,null)),r.a.createElement(k.a,{onClick:i,color:"primary","aria-label":"Like"},r.a.createElement(C.a,null))))},I=(a(82),function(e){var t=e.name,a=e.bio;return r.a.createElement("div",{style:{margin:16,marginBottom:42}},r.a.createElement(E.a,{className:"StudentBrief-text-style"},t," : ",a))}),L=a(26),H=a.n(L),U=(a(83),a(44)),A=function(){var e,t,a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=H.a.firestore(),n.next=3,O.a.awrap(e.collection("users").get());case 3:return t=n.sent,a={},t.forEach((function(e){a[e.id]=e.data()})),n.abrupt("return",a);case 7:case"end":return n.stop()}}))},J=function(e,t){var a=H.a.firestore(),n={};n[t]=!0,a.collection("likes").doc(e.gitHubUser).set(n,{merge:!0})},R=function(e){var t,a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=H.a.firestore(),r.next=3,O.a.awrap(t.collection("likes").get());case 3:return a=r.sent,n=a&&a.docs.filter((function(t){return t.id===e}))[0],r.abrupt("return",n&&n.data());case 6:case"end":return r.stop()}}))},W=function(e){var t=JSON.parse(localStorage.getItem("userData")).gitHubUser,a=Object(n.useState)(0),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(),u=Object(c.a)(s,2),m=u[0],f=u[1],d=Object(n.useState)(),g=Object(c.a)(d,2),p=g[0],b=g[1],v=Object(n.useState)(),h=Object(c.a)(v,2),x=h[0],w=h[1],y=Object(n.useState)(!1),S=Object(c.a)(y,2),j=S[0],k=S[1],N=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(A());case 2:return e=t.sent,t.abrupt("return",Object.keys(e));case 4:case"end":return t.stop()}}))};Object(n.useEffect)((function(){!function(){var e;O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(N());case 2:return e=t.sent,b(e),t.t0=w,t.next=7,O.a.awrap(A());case 7:t.t1=t.sent,(0,t.t0)(t.t1),f(e[0]),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){console.log("A minha localiza\xe7\xe3o \xe9: ",e.coords.latitude," latitude",e.coords.longitude," longitude")}));case 11:case"end":return t.stop()}}))}()}),[]);var C=function(){var e=i+1;l(e),f(p[e])},L=function(){k(!0),function(e,t){var a=H.a.firestore(),n={},r={};n[e.gitHubUser]=!0,r[t]=!0,a.collection("matchs").doc(t).set(n,{merge:!0}),a.collection("matchs").doc(e.gitHubUser).set(r,{merge:!0})}(x[m],t);var e=JSON.parse(localStorage.getItem("matchList"))||{};e[m]={name:x[m].name,whatsapp:x[m].whatsapp,image:x[m].image},localStorage.setItem("matchList",JSON.stringify(e)),navigator.vibrate&&navigator.vibrate([200,200,400,400,800,800,200,200]),setTimeout((function(){k(!1),C()}),3e3)};return r.a.createElement("div",{style:{flex:1,display:"flex",padding:"5% 5% 0 5%",flexDirection:"column"}},r.a.createElement(E.a,null,"Encontre estudantes"),x&&x[m]&&r.a.createElement(P,{image:x[m].image,handleReject:C,handleLike:function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return J(x[m],t),a.next=3,O.a.awrap(R(t));case 3:e=a.sent,e&&e[x[m].gitHubUser]?(L(),console.log("Its a match!")):(console.log("N\xe3o foi ainda"),C());case 6:case"end":return a.stop()}}))}},r.a.createElement(I,{name:j?"Parab\xe9ns!":x[m].name,bio:j?"Voc\xea tem um novo match, confira na aba de matches":x[m].bio})))},D=a(160),T=a(154),B=a(61),z=a.n(B),F=a(62),q=a.n(F),G=(a(110),function(e){var t=JSON.parse(localStorage.getItem("userData"))||{},a=Object(n.useState)(t.image||"https://avatars2.githubusercontent.com/u/54108471?v=4"),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(t.gitHubUser||""),u=Object(c.a)(s,2),m=u[0],f=u[1],d=Object(n.useState)(t.name||""),g=Object(c.a)(d,2),p=g[0],b=g[1],v=Object(n.useState)(t.whatsapp||""),h=Object(c.a)(v,2),x=h[0],w=h[1],y=Object(n.useState)(t.bio||""),S=Object(c.a)(y,2),j=S[0],k=S[1];return r.a.createElement("div",{className:"Profile-container"},r.a.createElement(E.a,null,"Seu Perfil"),r.a.createElement("div",{className:"Profile-info"},r.a.createElement("div",{className:"Profile-picture-wrapper"},r.a.createElement("img",{src:i,alt:"Foto de perfil",style:{height:140,width:140}})),r.a.createElement("form",{className:"Profile-flex-full",noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"Profile-form-wrapper"},r.a.createElement(D.a,{className:"Profile-flex-full",id:"github-username",value:m,label:"Usu\xe1rio do GitHub",onChange:function(e){f(e.target.value)}}),r.a.createElement(D.a,{className:"Profile-flex-full",id:"nome",value:p,label:"Seu Nome",onChange:function(e){b(e.target.value)}}),r.a.createElement(D.a,{className:"Profile-flex-full",id:"whatsapp",value:x,label:"Seu Whatsapp",onChange:function(e){w(e.target.value)}})))),r.a.createElement("div",{className:"Profile-info"},r.a.createElement(D.a,{multiline:!0,rowsMax:"4",className:"Profile-flex-full",id:"bio",value:j,label:"Sua bio",onChange:function(e){k(e.target.value)}})),r.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"flex-end",justifyContent:"space-around"}},r.a.createElement(T.a,{onClick:function(){z.a.get("https://api.github.com/users/"+m).then((function(e){console.log("github response",e.data);var t=e.data,a=t.name,n=t.bio,r=t.avatar_url,o=t.followers,i=t.public_repos;a&&b(a),n&&k(n),r&&l(r),console.log("Este usuario tem ",o," seguidores"),console.log("Este usuario tem ",i," reposit\xf3rios publicos")})).catch((function(e){console.log(e)})),console.log("Cliquei no github")}},"Buscar GitHub"),r.a.createElement(T.a,{onClick:function(){var e,t={gitHubUser:m,name:p,whatsapp:x,bio:j,image:i};localStorage.setItem("userData",JSON.stringify(t)),e=t,H.a.firestore().collection("users").doc(e.gitHubUser).set(e,{merge:!0}),function(){var e,t;O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=q.a.messaging(),a.next=4,O.a.awrap(e.requestPermission());case 4:return a.next=6,O.a.awrap(e.getToken());case 6:t=a.sent,console.log("O token do usu\xe1rio foi",t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("error",a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])}(),console.log("Cliquei em salvar")}},"Salvar")))});var M=function(){var e=[r.a.createElement(S,null),r.a.createElement(W,null),r.a.createElement(G,null)],t=Object(n.useState)(1),a=Object(c.a)(t,2),o=a[0],i=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-body"},r.a.createElement(l.a,{style:{flex:1,marginTop:"1%",display:"flex",marginBottom:"1%",flexDirection:"column",width:"100%",maxWidth:600}},r.a.createElement(u.a,{style:{flex:1,display:"flex",flexDirection:"column"}},e[o]),r.a.createElement(s.a,{style:{display:"flex"}},r.a.createElement(m.a,{value:o,onChange:function(e,t){console.log("Change",t),i(t)},showLabels:!0,style:{flex:1}},r.a.createElement(f.a,{label:"Matches",icon:r.a.createElement(g.a,null)}),r.a.createElement(f.a,{label:"Estudantes",icon:r.a.createElement(b.a,null)}),r.a.createElement(f.a,{label:"Perfil",icon:r.a.createElement(h.a,null)}))))))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}H.a.initializeApp(U),i.a.render(r.a.createElement(M,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()},44:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyAhksSCNnFx65RofoPF1EoQmvPSLJB4Qwg","authDomain":"tinderesse.firebaseapp.com","databaseURL":"https://tinderesse.firebaseio.com","projectId":"tinderesse","storageBucket":"tinderesse.appspot.com","messagingSenderId":"711841806608","appId":"1:711841806608:web:36274ff6f7c713cff80d95","measurementId":"G-THSNK1HNHX"}')},50:function(e){e.exports=JSON.parse("{}")},71:function(e,t,a){e.exports=a(112)},76:function(e,t,a){},77:function(e,t,a){},82:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.199b2a9f.chunk.js.map